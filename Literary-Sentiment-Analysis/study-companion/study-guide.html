<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Study Companion ‚Äî MVP</title>
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <header class="app-header">
    <a class="logo" href="study-guide.html">Study Companion</a>

    <nav class="header-nav" aria-label="Main navigation">
      <button data-section="planner" class="nav-btn active">Planner</button>
      <button data-section="notes" class="nav-btn">Notes</button>
      <button data-section="flashcards" class="nav-btn">Flashcards</button>
      <button data-section="quiz" class="nav-btn">Quiz</button>
      <button data-section="timer" class="nav-btn">Timer</button>
      <button data-section="resources" class="nav-btn">Resources</button>
      <button data-section="progress" class="nav-btn">Progress</button>
    </nav>

    <div class="header-right">
      <button type="button" id="ttsBtn" class="icon-btn" title="Read aloud">üîä</button>
      <button type="button" id="themeToggle" class="icon-btn theme-toggle" aria-pressed="false" title="Toggle theme">üåì</button>
      <button type="button" id="exportBtn" class="btn" title="Export data">‚¨áÔ∏è Export</button>
      <input id="importFile" type="file" accept="application/json" style="display:none">
    </div>
  </header>

  <main class="sc-main">
    <section id="planner" class="panel active">
      <h2>Study Planner</h2>
      <div class="row">
        <div class="col">
          <h3>Create Task</h3>
          <input id="taskTitle" placeholder="Task title">
          <label>Priority <select id="taskPriority"><option value="3">High</option><option value="2" selected>Medium</option><option value="1">Low</option></select></label>
          <textarea id="taskNotes" placeholder="Notes / details"></textarea>
          <label>Due: <input id="taskDue" type="date"></label>
          <label>Effort (mins): <input id="taskEffort" type="number" value="30"></label>
          <div><button id="addTaskBtn" class="btn">Add Task</button> <button id="autoPlanBtn" class="btn">Auto Plan</button> <button id="exportBtn" class="btn">Export</button> <button id="exportICSBtn" class="btn">Export ICS</button><input id="importFile" type="file" style="display:none"></div>
        </div>
        <div class="col">
          <h3>Upcoming Tasks</h3>
          <ul id="taskList" class="list"></ul>
          <div class="small">Features: auto-schedule, priority sorting, export, calendar ICS export</div>
        </div>
      </div>
    </section>

    <section id="notes" class="panel">
      <h2>Notes</h2>
      <div class="row">
        <div class="col">
          <input id="noteTitle" placeholder="Note title">
          <textarea id="noteBody" placeholder="Paste notes, lecture transcript..." spellcheck="true"></textarea>
          <div class="controls"><button id="saveNoteBtn" class="btn">Save Note</button> <button id="summarizeBtn" class="btn">Summarize</button> <button id="flashcardsFromNoteBtn" class="btn">Make Flashcards</button></div>
          <div class="small">Features: extractive summarizer, keyword extraction, markdown import/export, tagging</div>
        </div>
        <div class="col">
          <h3>Saved Notes</h3>
          <input id="noteSearch" placeholder="Search notes">
          <div style="margin-top:8px"><label>Tags (comma-separated) <input id="noteTags" placeholder="tag1, tag2"></label></div>
          <ul id="notesList" class="list"></ul>
        </div>
      </div>
    </section>

    <section id="flashcards" class="panel">
      <h2>Flashcards</h2>
      <div class="row">
        <div class="col">
          <h3>Create / Import</h3>
          <textarea id="fcInput" placeholder="One Q|A per line, or generate from notes"></textarea>
          <div><button id="importFCBtn" class="btn">Import</button> <button id="trainFCBtn" class="btn">Start SRS</button></div>
        </div>
        <div class="col">
          <h3>Review</h3>
          <div id="fcCard" class="card big">No card</div>
          <div class="controls"><button id="fcWrong" class="btn">Again</button> <button id="fcGood" class="btn btn-primary">Good</button></div>
          <div class="small">Features: spaced repetition (SM-2 like), progress, export, cloze</div>
        </div>
      </div>
    </section>

    <section id="quiz" class="panel">
      <h2>Quiz Generator</h2>
      <div class="row">
        <div class="col">
          <label>Source: <select id="quizSource"><option value="notes">Notes</option><option value="flashcards">Flashcards</option></select></label>
          <label>Questions: <input id="quizCount" type="number" value="10"></label>
          <div><button id="genQuizBtn" class="btn">Generate Quiz</button> <button id="startQuizBtn" class="btn btn-primary">Start Quiz</button></div>
        </div>
        <div class="col">
          <div id="quizArea"></div>
        </div>
      </div>
    </section>

    <section id="timer" class="panel">
      <h2>Timer & Pomodoro</h2>
      <div class="row">
        <div class="col">
          <label>Duration (mins): <input id="timerMinutes" type="number" value="25"></label>
          <div><button id="startTimerBtn" class="btn btn-primary">Start</button> <button id="stopTimerBtn" class="btn">Stop</button></div>
          <div id="timerDisplay" class="big">25:00</div>
        </div>
        <div class="col">
          <h3>Session Log</h3>
          <ul id="sessionLog" class="list"></ul>
        </div>
      </div>
    </section>

    <section id="resources" class="panel">
      <h2>Resources</h2>
      <div class="row">
        <div class="col">
          <input id="resourceUrl" placeholder="Paste resource URL">
          <input id="resourceTitle" placeholder="Optional title">
          <div><button id="addResourceBtn" class="btn">Add Resource</button></div>
          <div class="small">Features: bookmark, tags, rating, notes, share link</div>
        </div>
        <div class="col">
          <h3>Saved Resources</h3>
          <ul id="resourcesList" class="list"></ul>
        </div>
      </div>
    </section>

    <section id="progress" class="panel">
      <h2>Progress & Analytics</h2>
      <div class="row">
        <div class="col">
          <h3>Stats</h3>
          <div id="statsArea">Sessions: 0 ‚Ä¢ Streak: 0 days ‚Ä¢ Cards reviewed: 0</div>
          <canvas id="statsChart" width="600" height="200" style="max-width:100%; margin-top:12px; background:transparent"></canvas>
          <div class="small">Features: session analytics, streaks, export CSV, achievement badges</div>
        </div>
        <div class="col">
          <h3>Achievements</h3>
          <ul id="achievements" class="list"></ul>
        </div>
      </div>
    </section>

  </main>

  <!-- Quick capture modal -->
  <div id="quickCapture" style="display:none;position:fixed;left:50%;top:18%;transform:translateX(-50%);width:90%;max-width:640px;background:var(--panel);border:1px solid var(--border);padding:16px;border-radius:10px;z-index:2000;box-shadow:0 12px 40px rgba(2,6,23,0.08)">
    <h3>Quick Capture</h3>
    <input id="quickTitle" placeholder="Title" style="width:100%;margin-bottom:8px;padding:8px;border-radius:6px;border:1px solid var(--border)">
    <textarea id="quickBody" placeholder="Capture a note quickly..." style="width:100%;min-height:120px;padding:8px;border-radius:6px;border:1px solid var(--border)"></textarea>
    <div style="display:flex;gap:8px;margin-top:8px;justify-content:flex-end"><button id="quickCancel" class="btn">Cancel</button><button id="quickSave" class="btn btn-primary">Save</button></div>
  </div>

  <footer class="sc-footer">Study Companion ‚Ä¢ Local-first MVP ‚Ä¢ Export/Import supported</footer>
  <script src="app.js"></script>
</body>
</html>